# functional_by_js

### 쏙쏙 들어오는 함수형 코딩 

- 저자 에릭 노먼드. 20년 경력. 함수형 코딩 주도자 중 한명. 
- 이론적인 내용 보단 실무 예시를 통해 함수형 코딩/설계/사고 방식 설명하는 책. 
- https://livebook.manning.com/book/grokking-simplicity/chapter-1/1

# what is functional programming? 

이론적인 함수형 프로그램 정의는 
1. 순수함수[^순수함수]를 사용하고 부수효과[^부수효과]를 피하는 것이 특징인 프로그래밍 패러다임 
2. 부수효과 없이 순수함수만 사용하는 프로그래밍 스타일 

## but

1. 부수효과는 필요하다. 
    - 부수효과는 대부분의 프로그램을 실행하는 이유. 
    - 이메일 클라이언트가 이메일을 보내는 기능(부수효과)가 없다면? 
2. 함수형 프로그래밍은 부수효과를 '잘 다룰 수' 있다. 
    - 배제하는 것이 아니라 잘 다루어야 하는 것. 
3. 함수형 프로그래밍은 실용적이다.
    - 정의는 매우 (수학적으로) 이론적이지만 실제 개발에서는 훨씬 실용적으로 사용된다.

# 함수형 사고 

함수형 사고는 "함수형 프로그래머가 소프트웨어 문제를 해결하기 위해 사용하는 기술과 생각"으로 크게 두가지 개념으로 나뉨. 
1. 액션과 계산, 데이터를 구분해서 생각하는 것. 
2. 일급 추상(first-class abstraction)

# Part I 액션과 계산, 데이터
## 주요 기술(개념)
1. action(액션) 
    - 호출하는 `시점`과 `횟수`에 **의존.**
    - 호출할때마다 다른 것이 나온다는 의미. 
    - 부수효과를 포함함. 
    - 어떤 함수에 액션이 포함되 있다면 그 함수는 액션.
2. calculation(계산)
    - 호출 `시점`과 `횟수`와 **무관함.**
    - 이론적인 순수함수. 
    - 계획, 결정하는 것.
    - 입력값으로 항상 동일한 출력값을 가짐
3. data(데이터)
    - 이벤트에 대해 기록한 사실.
    - 정적이고 해석이 필요함.
    - immutable(불변)

## 주요 패턴

1. copy-on-write
  - 값을 복사 -> 변경 -> 리턴 하는 패턴
  - 값의 불변성 확보를 위해 사용함.(안전지대)
  - 얕은 복사와 상태공유 활용 
	- js에서는 기본적으로 cow되지 않으므로 따로 구현필요.

2. defensive copy

## Convert to functioanl

1. 코드를 액션과 계산, 데이터로 구분
2. 액션에서 계산 분리
3. 액션에서 암묵적 입/출력 줄이기

## 주요 다이어그램
1. 타임라인
    ![img](https://drek4537l1klr.cloudfront.net/normand/Figures/f0025-02.jpg)
    - 프로그램 흐름에 따라 아래로 진행하는 다이어그램
    - 커팅
        - 비동기 처리를 위해 점선으로 구분. 상단 부분 작업 완료 후에 진행된다는 표시.
2. 호출 그래프

## 주요 설계 패턴 

1. 계층형 설계 패턴
    1) 직접 구현
    2) 추상화 벽
    3) 작은 인터페이스
    4) 편리한 계층

# PART II 일급 추상

TBD

---
[^순수함수]: 인자에만 의존하고 부수효과가 없는 함수. aka 수학함수
[^부수효과]: 함수가 리턴값 이외에 하는 모든 일